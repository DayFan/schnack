!function(){"use strict";function n(){}function r(r,t){var e=new n;if(r instanceof n)r.each(function(n,r){e.set(r,n)});else if(Array.isArray(r)){var o,u=-1,c=r.length;if(null==t)for(;++u<c;)e.set(u,r[u]);else for(;++u<c;)e.set(t(o=r[u],u,r),o)}else if(r)for(var i in r)e.set(i,r[i]);return e}function t(){for(var n,r=arguments,t=0,o=arguments.length,u={};t<o;++t){if(!(n=r[t]+"")||n in u)throw new Error("illegal type: "+n);u[n]=[]}return new e(u)}function e(n){this._=n}function o(n,r){return n.trim().split(/^|\s+/).map(function(n){var t="",e=n.indexOf(".");if(e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}})}function u(n,r){for(var t,e=0,o=n.length;e<o;++e)if((t=n[e]).name===r)return t.value}function c(n,r,t){for(var e=0,o=n.length;e<o;++e)if(n[e].name===r){n[e]=I,n=n.slice(0,e).concat(n.slice(e+1));break}return null!=t&&n.push({name:r,value:t}),n}function i(n){return function(r,t){n(null==r?t:null)}}function a(n){var r=n.responseType;return r&&"text"!==r?n.response:n.responseText}function l(n){return new Function("d","return {"+n.map(function(n,r){return JSON.stringify(n)+": d["+r+"]"}).join(",")+"}")}function f(n,r){var t=l(n);return function(e,o){return r(t(e),o,n)}}function s(n){var r=Object.create(null),t=[];return n.forEach(function(n){for(var e in n)e in r||t.push(r[e]=e)}),t}function p(n){if("string"==typeof n)return n;if(v(n))return bn?bn.call(n):"";var r=n+"";return"0"==r&&1/n==-on?"-0":r}function h(n){return!!n&&"object"==typeof n}function v(n){return"symbol"==typeof n||h(n)&&mn.call(n)==un}function y(n){return null==n?"":p(n)}function m(n,r,t){switch(t.length){case 0:return n.call(r);case 1:return n.call(r,t[0]);case 2:return n.call(r,t[0],t[1]);case 3:return n.call(r,t[0],t[1],t[2])}return n.apply(r,t)}function g(n,r){for(var t=-1,e=n?n.length:0,o=Array(e);++t<e;)o[t]=r(n[t],t,n);return o}function d(n,r){for(var t=-1,e=Array(n);++t<n;)e[t]=r(t);return e}function b(n,r){return g(r,function(r){return n[r]})}function w(n){return"\\"+Ln[n]}function _(n,r){var t=Kn(n)||F(n)?d(n.length,String):[],e=t.length,o=!!e;for(var u in n)!r&&!Un.call(n,u)||o&&("length"==u||$(u,e))||t.push(u);return t}function j(n,r,t,e){return void 0===n||q(n,Xn[t])&&!Un.call(e,t)?r:n}function O(n,r,t){var e=n[r];Un.call(n,r)&&q(e,t)&&(void 0!==t||r in n)||(n[r]=t)}function A(n){if(!R(n))return Nn(n);var r=[];for(var t in Object(n))Un.call(n,t)&&"constructor"!=t&&r.push(t);return r}function k(n){if(!U(n))return C(n);var r=R(n),t=[];for(var e in n)("constructor"!=e||!r&&Un.call(n,e))&&t.push(e);return t}function S(n,r){return r=zn(void 0===r?n.length-1:r,0),function(){for(var t=arguments,e=-1,o=zn(t.length-r,0),u=Array(o);++e<o;)u[e]=t[r+e];e=-1;for(var c=Array(r+1);++e<r;)c[e]=t[e];return c[r]=u,m(n,this,c)}}function x(n){if("string"==typeof n)return n;if(G(n))return Bn?Bn.call(n):"";var r=n+"";return"0"==r&&1/n==-_n?"-0":r}function E(n,r,t,e){t||(t={});for(var o=-1,u=r.length;++o<u;){var c=r[o],i=e?e(t[c],n[c],c,t,n):void 0;O(t,c,void 0===i?n[c]:i)}return t}function $(n,r){return!!(r=null==r?jn:r)&&("number"==typeof n||Cn.test(n))&&n>-1&&n%1==0&&n<r}function T(n,r,t){if(!U(t))return!1;var e=typeof r;return!!("number"==e?L(t)&&$(r,t.length):"string"==e&&r in t)&&q(t[r],n)}function R(n){var r=n&&n.constructor;return n===("function"==typeof r&&r.prototype||Xn)}function C(n){var r=[];if(null!=n)for(var t in Object(n))r.push(t);return r}function q(n,r){return n===r||n!==n&&r!==r}function F(n){return M(n)&&Un.call(n,"callee")&&(!Jn.call(n,"callee")||Dn.call(n)==On)}function L(n){return null!=n&&X(n.length)&&!P(n)}function M(n){return D(n)&&L(n)}function H(n){return!!D(n)&&(Dn.call(n)==An||"string"==typeof n.message&&"string"==typeof n.name)}function P(n){var r=U(n)?Dn.call(n):"";return r==kn||r==Sn}function X(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=jn}function U(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}function D(n){return!!n&&"object"==typeof n}function G(n){return"symbol"==typeof n||D(n)&&Dn.call(n)==xn}function J(n){return null==n?"":x(n)}function N(n){return L(n)?_(n):A(n)}function z(n){return L(n)?_(n,!0):k(n)}n.prototype=r.prototype={constructor:n,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,r){return this["$"+n]=r,this},remove:function(n){var r="$"+n;return r in this&&delete this[r]},clear:function(){var n=this;for(var r in n)"$"===r[0]&&delete n[r]},keys:function(){var n=this,r=[];for(var t in n)"$"===t[0]&&r.push(t.slice(1));return r},values:function(){var n=this,r=[];for(var t in n)"$"===t[0]&&r.push(n[t]);return r},entries:function(){var n=this,r=[];for(var t in n)"$"===t[0]&&r.push({key:t.slice(1),value:n[t]});return r},size:function(){var n=this,r=0;for(var t in n)"$"===t[0]&&++r;return r},empty:function(){var n=this;for(var r in n)if("$"===r[0])return!1;return!0},each:function(n){var r=this;for(var t in r)"$"===t[0]&&n(r[t],t.slice(1),r)}};var I={value:function(){}};e.prototype=t.prototype={constructor:e,on:function(n,r){var t,e=this._,i=o(n+"",e),a=-1,l=i.length;{if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++a<l;)if(t=(n=i[a]).type)e[t]=c(e[t],n.name,r);else if(null==r)for(t in e)e[t]=c(e[t],n.name,null);return this}for(;++a<l;)if((t=(n=i[a]).type)&&(t=u(e[t],n.name)))return t}},copy:function(){var n={},r=this._;for(var t in r)n[t]=r[t].slice();return new e(n)},call:function(n,r){var t=arguments;if((e=arguments.length-2)>0)for(var e,o,u=new Array(e),c=0;c<e;++c)u[c]=t[c+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=0,e=(o=this._[n]).length;c<e;++c)o[c].value.apply(r,u)},apply:function(n,r,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var e=this._[n],o=0,u=e.length;o<u;++o)e[o].value.apply(r,t)}};var B=function(n,e){function o(n){var r,t=h.status;if(!t&&a(h)||t>=200&&t<300||304===t){if(l)try{r=l.call(u,h)}catch(n){return void s.call("error",u,n)}else r=h;s.call("load",u,r)}else s.call("error",u,n)}var u,c,l,f,s=t("beforesend","progress","load","error"),p=r(),h=new XMLHttpRequest,v=null,y=null,m=0;if("undefined"==typeof XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(n)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=o:h.onreadystatechange=function(n){h.readyState>3&&o(n)},h.onprogress=function(n){s.call("progress",u,n)},u={header:function(n,r){return n=(n+"").toLowerCase(),arguments.length<2?p.get(n):(null==r?p.remove(n):p.set(n,r+""),u)},mimeType:function(n){return arguments.length?(c=null==n?null:n+"",u):c},responseType:function(n){return arguments.length?(f=n,u):f},timeout:function(n){return arguments.length?(m=+n,u):m},user:function(n){return arguments.length<1?v:(v=null==n?null:n+"",u)},password:function(n){return arguments.length<1?y:(y=null==n?null:n+"",u)},response:function(n){return l=n,u},get:function(n,r){return u.send("GET",n,r)},post:function(n,r){return u.send("POST",n,r)},send:function(r,t,e){return h.open(r,n,!0,v,y),null==c||p.has("accept")||p.set("accept",c+",*/*"),h.setRequestHeader&&p.each(function(n,r){h.setRequestHeader(r,n)}),null!=c&&h.overrideMimeType&&h.overrideMimeType(c),null!=f&&(h.responseType=f),m>0&&(h.timeout=m),null==e&&"function"==typeof t&&(e=t,t=null),null!=e&&1===e.length&&(e=i(e)),null!=e&&u.on("error",e).on("load",function(n){e(null,n)}),s.call("beforesend",u,h),h.send(null==t?null:t),u},abort:function(){return h.abort(),u},on:function(){var n=s.on.apply(s,arguments);return n===s?u:n}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return u.get(e)}return u},K=function(n,r){return function(t,e){var o=B(t).mimeType(n).response(r);if(null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o}};K("text/html",function(n){return document.createRange().createContextualFragment(n.responseText)});var Q=K("application/json",function(n){return JSON.parse(n.responseText)});K("text/plain",function(n){return n.responseText}),K("application/xml",function(n){var r=n.responseXML;if(!r)throw new Error("parse error");return r});var V={},W={},Y=34,Z=10,nn=13,rn=function(n){function r(n,r){function t(){if(l)return W;if(f)return f=!1,V;var r,t,e=i;if(n.charCodeAt(e)===Y){for(;i++<c&&n.charCodeAt(i)!==Y||n.charCodeAt(++i)===Y;);return(r=i)>=c?l=!0:(t=n.charCodeAt(i++))===Z?f=!0:t===nn&&(f=!0,n.charCodeAt(i)===Z&&++i),n.slice(e+1,r-1).replace(/""/g,'"')}for(;i<c;){if((t=n.charCodeAt(r=i++))===Z)f=!0;else if(t===nn)f=!0,n.charCodeAt(i)===Z&&++i;else if(t!==u)continue;return n.slice(e,r)}return l=!0,n.slice(e,c)}var e,o=[],c=n.length,i=0,a=0,l=c<=0,f=!1;for(n.charCodeAt(c-1)===Z&&--c,n.charCodeAt(c-1)===nn&&--c;(e=t())!==W;){for(var s=[];e!==V&&e!==W;)s.push(e),e=t();r&&null==(s=r(s,a++))||o.push(s)}return o}function t(r){return r.map(e).join(n)}function e(n){return null==n?"":o.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}var o=new RegExp('["'+n+"\n\r]"),u=n.charCodeAt(0);return{parse:function(n,t){var e,o,u=r(n,function(n,r){if(e)return e(n,r-1);o=n,e=t?f(n,t):l(n)});return u.columns=o,u},parseRows:r,format:function(r,t){return null==t&&(t=s(r)),[t.map(e).join(n)].concat(r.map(function(r){return t.map(function(n){return e(r[n])}).join(n)})).join("\n")},formatRows:function(n){return n.map(t).join("\n")}}},tn=(rn(","),rn("\t"),"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}),en=/<%=([\s\S]+?)%>/g,on=1/0,un="[object Symbol]",cn=/[&<>"'`]/g,an=RegExp(cn.source),ln=/<%-([\s\S]+?)%>/g,fn=/<%([\s\S]+?)%>/g,sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},pn="object"==typeof tn&&tn&&tn.Object===Object&&tn,hn="object"==typeof self&&self&&self.Object===Object&&self,vn=pn||hn||Function("return this")(),yn=function(n){return function(r){return null==n?void 0:n[r]}}(sn),mn=Object.prototype.toString,gn=vn.Symbol,dn=gn?gn.prototype:void 0,bn=dn?dn.toString:void 0,wn={escape:ln,evaluate:fn,interpolate:en,variable:"",imports:{_:{escape:function(n){return(n=y(n))&&an.test(n)?n.replace(cn,yn):n}}}},_n=1/0,jn=9007199254740991,On="[object Arguments]",An="[object Error]",kn="[object Function]",Sn="[object GeneratorFunction]",xn="[object Symbol]",En=/\b__p \+= '';/g,$n=/\b(__p \+=) '' \+/g,Tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/^(?:0|[1-9]\d*)$/,qn=/($^)/,Fn=/['\n\r\u2028\u2029\\]/g,Ln={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn="object"==typeof tn&&tn&&tn.Object===Object&&tn,Hn="object"==typeof self&&self&&self.Object===Object&&self,Pn=Mn||Hn||Function("return this")(),Xn=Object.prototype,Un=Xn.hasOwnProperty,Dn=Xn.toString,Gn=Pn.Symbol,Jn=Xn.propertyIsEnumerable,Nn=function(n,r){return function(t){return n(r(t))}}(Object.keys,Object),zn=Math.max,In=Gn?Gn.prototype:void 0,Bn=In?In.toString:void 0,Kn=Array.isArray,Qn=function(n){return S(function(r,t){var e=-1,o=t.length,u=o>1?t[o-1]:void 0,c=o>2?t[2]:void 0;for(u=n.length>3&&"function"==typeof u?(o--,u):void 0,c&&T(t[0],t[1],c)&&(u=o<3?void 0:u,o=1),r=Object(r);++e<o;){var i=t[e];i&&n(r,i,e,u)}return r})}(function(n,r,t,e){E(r,z(r),n,e)}),Vn=S(function(n,r){try{return m(n,void 0,r)}catch(n){return H(n)?n:new Error(n)}}),Wn=function(n,r,t){var e=wn.imports._.templateSettings||wn;t&&T(n,r,t)&&(r=void 0),n=J(n),r=Qn({},r,e,j);var o,u,c=Qn({},r.imports,e.imports,j),i=N(c),a=b(c,i),l=0,f=r.interpolate||qn,s="__p += '",p=RegExp((r.escape||qn).source+"|"+f.source+"|"+(f===en?Rn:qn).source+"|"+(r.evaluate||qn).source+"|$","g"),h="sourceURL"in r?"//# sourceURL="+r.sourceURL+"\n":"";n.replace(p,function(r,t,e,c,i,a){return e||(e=c),s+=n.slice(l,a).replace(Fn,w),t&&(o=!0,s+="' +\n__e("+t+") +\n'"),i&&(u=!0,s+="';\n"+i+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+r.length,r}),s+="';\n";var v=r.variable;v||(s="with (obj) {\n"+s+"\n}\n"),s=(u?s.replace(En,""):s).replace($n,"$1").replace(Tn,"$1;"),s="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var y=Vn(function(){return Function(i,h+"return "+s).apply(void 0,a)});if(y.source=s,H(y))throw y;return y},Yn=document.querySelectorAll("script[data-schnack-target]")[0];Yn||process.exit();var Zn=Yn.dataset,nr=Zn.schnackHost,rr=Zn.schnackTarget,tr=Zn.schnackSlug,er=Wn('<form class="schnack-post">\n    <textarea></textarea><br>\n    <button>Send comment</button>\n</form>\n<ul class="schnack-comments">\n    <% comments.forEach((comment) => { %>\n        <li class="schnack-comment">\n            <div class="schnack-author">\n                <%= comment.name %> <span class="schnack-date"><%= comment.created_at_s %></span>\n            </div>\n            <blockquote class="schnack-body">\n                <p><%= comment.comment %></p>\n            </blockquote>\n        </li>\n    <% }) %>\n</ul>');Q(nr+"/comments/"+tr,function(n,r){n&&console.error(n),console.log(r);var t=er(r);document.querySelectorAll(rr)[0].innerHTML=t})}();
